<!DOCTYPE html>
<html>
    <head>
        <!-- <script src="./dist/bundle.js"></script> -->
    </head>
    <body>
        <h2>LOGIN</h2>
        <section>
            <form onsubmit="onLogin(event)">
                <label for="id">First name:</label><br>
                <input type="text" id="id" name="userId" value="admin"><br>
                <label for="password">Last name:</label><br>
                <input type="password" id="password" name="password" value="admin123"><br><br>
                <input type="submit" value="Submit">
              </form> 
        </section>
    </body>

    <script>
        onLogin = (event) => {
            event.preventDefault();
            fetch("http://localhost:18095/oauth/token", {
                method: "POST",
                headers: {
                    "Authorization": "Basic " + btoa("msa_auth_web:websecret"),
                    "Content-Type": "application/x-www-form-urlencoded"
                },
                body: new URLSearchParams({
                    "grant_type": "password",
                    "scope": "write",
                    "username": document.getElementById("id").value,
                    "password": document.getElementById("password").value
                }).toString()
            }).then(res => res.json()).then(res => console.log(res));
        }
    </script>
</html>